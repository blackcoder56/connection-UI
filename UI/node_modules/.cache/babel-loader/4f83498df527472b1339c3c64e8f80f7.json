{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/jack/Desktop/GitProjects/connection-india/UI/src/Routes/AdminHome.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useEffect } from 'react';\nimport { userContext } from './../context/context';\nimport Axios from 'axios';\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport { Redirect } from 'react-router-dom';\nimport AdminNav from '../Component/Admin/AdminNav';\nexport default function AdminHome() {\n  _s();\n\n  let context = useContext(userContext);\n  useEffect(() => {\n    async function validateToken() {\n      console.log('Hello World');\n\n      try {\n        await Axios({\n          method: 'GET',\n          url: 'http://localhost:5000/api/Auth/valid/token',\n          headers: {\n            auth: context.token\n          }\n        });\n      } catch (error) {\n        localStorage.removeItem('token');\n        context.setToken('');\n        toast('Login first', {\n          type: \"success\"\n        });\n      }\n    }\n\n    validateToken();\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this), context.token ? /*#__PURE__*/_jsxDEV(AdminNav, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(Redirect, {\n      to: \"/admin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n}\n\n_s(AdminHome, \"wqnYpdjMkT3eDhbBjwDmfBO/TFg=\");\n\n_c = AdminHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminHome\");","map":{"version":3,"sources":["/home/jack/Desktop/GitProjects/connection-india/UI/src/Routes/AdminHome.js"],"names":["React","useContext","useEffect","userContext","Axios","ToastContainer","toast","Redirect","AdminNav","AdminHome","context","validateToken","console","log","method","url","headers","auth","token","error","localStorage","removeItem","setToken","type"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,SAAQC,WAAR,QAA0B,sBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,uCAAP;AACA,SAASC,cAAT,EAAyBC,KAAzB,QAAsC,gBAAtC;AAGA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,eAAe,SAASC,SAAT,GAAqB;AAAA;;AAChC,MAAIC,OAAO,GAAGT,UAAU,CAACE,WAAD,CAAxB;AAEAD,EAAAA,SAAS,CAAC,MAAI;AAEV,mBAAeS,aAAf,GAA8B;AAC1BC,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;;AACA,UAAI;AACA,cAAMT,KAAK,CACP;AACIU,UAAAA,MAAM,EAAC,KADX;AAEIC,UAAAA,GAAG,EAAC,4CAFR;AAGIC,UAAAA,OAAO,EAAC;AACJC,YAAAA,IAAI,EAACP,OAAO,CAACQ;AADT;AAHZ,SADO,CAAX;AASH,OAVD,CAUE,OAAOC,KAAP,EAAc;AACZC,QAAAA,YAAY,CAACC,UAAb,CAAwB,OAAxB;AACAX,QAAAA,OAAO,CAACY,QAAR,CAAiB,EAAjB;AACAhB,QAAAA,KAAK,CAAC,aAAD,EAAe;AAACiB,UAAAA,IAAI,EAAC;AAAN,SAAf,CAAL;AACH;AACJ;;AACDZ,IAAAA,aAAa;AAChB,GArBQ,CAAT;AAsBA,sBACI;AAAA,4BACI,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YADJ,EAEKD,OAAO,CAACQ,KAAR,gBACG,QAAC,QAAD;AAAA;AAAA;AAAA;AAAA,YADH,gBAGG,QAAC,QAAD;AAAU,MAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,YALR;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAUH;;GAnCuBT,S;;KAAAA,S","sourcesContent":["import React, { useContext, useEffect } from 'react'\nimport {userContext} from './../context/context'\nimport Axios from 'axios'\n\nimport \"react-toastify/dist/ReactToastify.css\"\nimport { ToastContainer, toast } from 'react-toastify'\n\n\nimport { Redirect } from 'react-router-dom'\nimport AdminNav from '../Component/Admin/AdminNav'\nexport default function AdminHome() {\n    let context = useContext(userContext);\n    \n    useEffect(()=>{\n        \n        async function validateToken(){\n            console.log('Hello World');\n            try {\n                await Axios(\n                    {\n                        method:'GET',\n                        url:'http://localhost:5000/api/Auth/valid/token',\n                        headers:{\n                            auth:context.token\n                        }\n                    }\n                )\n            } catch (error) {\n                localStorage.removeItem('token');\n                context.setToken('');\n                toast('Login first',{type:\"success\"});\n            }\n        }\n        validateToken();\n    });\n    return (\n        <div>\n            <ToastContainer />\n            {context.token ? (\n                <AdminNav />\n            ):(\n                <Redirect to='/admin' />\n            )}\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}